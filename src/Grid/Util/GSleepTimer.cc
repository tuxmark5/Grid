#include <Grid/Util/GSleepTimer.hh>
#include <Grid/GFiber.hh>

/********************************************* TX *********************************************/
/*                                        GSleepTimer                                         */
/**********************************************************************************************/

Vacuum GSleepTimer :: GSleepTimer()
{
}

/**********************************************************************************************/

Void GSleepTimer :: start(Int msecs)
{
  m_time = GFiber::time() + msecs * 1000000ULL;
  GTimer::start();
  GFiber::current()->suspend();
}

/**********************************************************************************************/

Void GSleepTimer :: timeout()
{
  GTimer::timeout();
  m_fiber->m_suspended = false;
}

/**********************************************************************************************/
